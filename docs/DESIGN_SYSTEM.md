I. Color & Theme System (Foundation)
üå∏ Sakura Sunset (Her-Inspired Pink Theme - Default Dark)

    Concept: Digital empathy, warmth, subtle futurism, intimacy, enhanced feminine energy. Inspired by the film "Her." Focus on softer, warmer, and more prominent pinks, creating a calm, readable, and inviting atmosphere.
    Palette:
        Backgrounds:
            Primary (Main UI background): hsl(340, 25%, 16%) (Very dark, muted warm rose)
            Secondary (Cards, panels, distinct sections): hsl(340, 22%, 22%) (Slightly lighter dark muted warm rose)
            Tertiary (Subtle hovers, UI element backgrounds): hsl(340, 20%, 28%) (A step lighter for depth)
        Text:
            Primary (Main content text): hsl(25, 60%, 92%) (Soft, creamy peach/warm off-white)
            Secondary (Less prominent text, captions): hsl(345, 25%, 75%) (Muted, soft pinkish-grey)
            Muted (Placeholders, disabled text): hsl(340, 15%, 60%) (Darker, desaturated pinkish-grey)
            Input Placeholder (Focused/VAD Wake): hsl(335, 70%, 82%) (Slightly brighter, inviting pink for placeholder when input is "aware")
        Accents:
            Primary (Key interactive elements, highlights, "bright pink"): hsl(335, 80%, 72%) (Clear, vibrant warm pink)
            Primary Variants (Hover, active): Light: hsl(335, 85%, 78%), Dark: hsl(335, 75%, 65%)
            Secondary (Supporting accents, icons, "light pink"): hsl(345, 75%, 80%) (Soft, lighter, warm pink)
        Borders:
            Primary (Standard UI element borders): hsl(340, 15%, 35%) (Subtle, harmonizing)
            Interactive/Focus (Borders for focused or active accented items): hsl(335, 70%, 60%)
        Glows: Primarily derived from Primary Accent Pink (hsl(335, 80%, 72%)) with varying alpha (0.2-0.5). Soft, diffused, warm emission. For feminine energy, glows might have a slightly softer edge, perhaps with a hint of pearlescence.
    Feeling: Intimate, warm, calming, subtly futuristic, distinct soft pink ambiance. Highly readable, visually soothing. Encourages a gentle, empathetic interaction.
    Feminine Energy Visual Cues: Softer glows, more fluid and organic animations (e.g., gentle sine-wave pulses, subtle particle effects like soft, glowing cherry blossom petals appearing briefly on key interactions or new message arrival, then fading gracefully).

üåå Twilight Neo (Overhauled Midnight Dark - Alternative Dark)

    Concept: Sleek, futuristic, neo-holographic, computational, enhanced masculine energy.
    Palette:
        Backgrounds: Primary: hsl(220, 30%, 8%) (Deep, dark indigo-blue). Secondary: hsl(220, 28%, 12%). Tertiary: hsl(220, 25%, 16%).
        Text: Primary: hsl(200, 70%, 94%) (Bright, clean light blue/cyan). Secondary: hsl(200, 50%, 80%). Muted: hsl(200, 30%, 60%).
        Input Placeholder (Focused/VAD Wake): hsl(180, 80%, 70%) (Slightly brighter teal for placeholder)
        Accents: Primary: hsl(180, 95%, 60%) (Vivid Cyan/Teal). Secondary: hsl(270, 85%, 65%) (Electric Violet/Purple).
        Borders: Primary: hsl(220, 20%, 25%). Interactive/Focus: hsl(180, 80%, 50%).
        Glows: Primarily Cyan/Teal and Violet. Sharp, energetic, geometric, potentially with a subtle "glitch" or "scanline" micro-texture. Alpha values typically 0.3-0.6.
    Feeling: High-tech, precise, energetic, intelligent.
    Masculine Energy Visual Cues: Sharper, more geometric glows and motion paths (e.g., quick, precise pulses, light streaks resembling data flow, network/neural pathway visualizations more prominent and defined). Animations are more direct and impactful.

‚òÄÔ∏è Aurora Daybreak (Default Light)

    Concept: Clean, refreshing, optimistic, airy, balanced/neutral energy with a touch of soft warmth.
    Palette:
        Backgrounds: Primary: hsl(210, 60%, 98%) (Very light, cool blues/grays). Secondary (Cards, panels): hsl(210, 40%, 95%). Tertiary (Subtle hovers): hsl(210, 30%, 92%).
        Text: Primary: hsl(220, 30%, 25%) (Dark blue-gray). Secondary: hsl(220, 25%, 45%). Muted: hsl(220, 20%, 65%).
        Input Placeholder (Focused/VAD Wake): hsl(330, 70%, 78%) (Soft pink placeholder text)
        Accents: Primary: hsl(330, 85%, 72%) (Soft Pink). Secondary: hsl(260, 75%, 78%) (Soft Lavender).
        Borders: Primary: hsl(210, 25%, 85%). Interactive/Focus: hsl(330, 70%, 65%).
        Glows: Soft, diffused, pastel-toned (derived from pink and lavender accents). Alpha values 0.2-0.4.
        UI Response Boxes: Use whitish gradients (linear-gradient(to bottom right, hsl(210, 50%, 99%), hsl(200, 40%, 96%))) with subtle, bright bursts/highlights of the primary accent pink (hsl(330, 85%, 72%) with opacity) to give fluidity and sleekness. Avoid heavy blue/green gradients here.
    Feeling: Crisp, clear, calm, approachable.
    Balanced Energy Visual Cues: Animations are smooth and gentle. Subtle particle effects could be airy and light, like soft motes of light.

ü§ó Warm Embrace (Alternative Light)

    Concept: Cozy, inviting, slightly retro-futuristic, tangible, balanced/neutral energy with an emphasis on comfort.
    Palette:
        Backgrounds: Primary: hsl(35, 70%, 96%) (Creamy off-whites). Secondary: hsl(35, 50%, 92%). Tertiary: hsl(35, 40%, 88%).
        Text: Primary: hsl(30, 20%, 25%) (Dark warm brown). Secondary: hsl(30, 18%, 40%). Muted: hsl(30, 15%, 55%).
        Input Placeholder (Focused/VAD Wake): hsl(25, 60%, 70%) (Soft amber placeholder)
        Accents: Primary: hsl(25, 75%, 65%) (Rich Amber/Orange). Secondary: hsl(45, 70%, 60%) (Softer Gold/Yellow).
        Borders: Primary: hsl(30, 20%, 80%). Interactive/Focus: hsl(25, 60%, 55%).
        Glows: Warm, amber, and golden hues. Diffused and gentle. Alpha values 0.25-0.45.
    Feeling: Comfortable, friendly, reliable.
    Balanced Energy Visual Cues: Motion feels tangible and reliable, less ethereal. Soft, warm light effects.

üïπÔ∏è Retro Terminus (Monochromatic - Agnostic Energy)

    Concept: Retro-futuristic, brutalist, high-tech/lo-fi, analog-like, console/terminal aesthetic. Minimal effects, focus on typography, stark contrasts, and structural clarity. Agnostic energy.
    Sub-Themes:
        Terminus Dark (Default Retro):
            Backgrounds: Primary: hsl(0, 0%, 5%). Secondary (Panels): hsl(0, 0%, 8%). Tertiary (Hovers): hsl(0, 0%, 12%).
            Text & Primary Accent: User choice of classic monochrome:
                Amber: hsl(35, 80%, 70%) (Text), hsl(35, 85%, 75%) (Accents/Focus)
                Green: hsl(120, 70%, 75%) (Text), hsl(120, 75%, 80%) (Accents/Focus)
                Light Gray/White: hsl(0, 0%, 90%) (Text), hsl(0, 0%, 95%) (Accents/Focus)
            Secondary Text/Muted: Same hue as primary text, but lower lightness/saturation (e.g., Amber: hsl(35, 60%, 50%)).
            Borders: Primary: hsl(0, 0%, 20%). Interactive/Focus: Match chosen accent color.
            Glows: Minimal, sharp, text-based or subtle block glows matching accent color. Low alpha (0.1-0.3).
        Terminus Light (Alternative Retro):
            Backgrounds: Primary: hsl(0, 0%, 96%). Secondary: hsl(0, 0%, 92%). Tertiary: hsl(0, 0%, 88%).
            Text & Primary Accent (Darker versions of Dark choices):
                Dark Amber: hsl(35, 60%, 25%) (Text), hsl(35, 65%, 30%) (Accents/Focus)
                Dark Green: hsl(120, 50%, 20%) (Text), hsl(120, 55%, 25%) (Accents/Focus)
                Near Black: hsl(0, 0%, 10%) (Text), hsl(0, 0%, 15%) (Accents/Focus)
            Secondary Text/Muted: Same hue as primary text, but higher lightness/lower saturation.
            Borders: Primary: hsl(0, 0%, 75%). Interactive/Focus: Match chosen accent color.
            Glows: Very minimal or none.
    Feeling: Utilitarian, robust, direct, nostalgic-futuristic. Less neomorphic, more structural, grid-aligned, sharp edges. ASCII-art style loading/processing animations where appropriate.
    Agnostic Energy Visual Cues: Animations are direct, possibly with "scanline" or "crt flicker" effects. Typography is key (monospaced fonts prominent). Visuals emphasize function over form, but with a deliberate retro-tech style.

II. Motion & Microinteraction Language

    Primary Goal: Direct responsiveness and adaptation to user input.
    Secondary Goal: Making underlying intelligence/computation visible and "felt".
    Tertiary Goal: Subtle, constant ambient awareness creating a "living" interface.
    Core Principles:
        Physics-Inspired Easing: Default to spring physics (cubic-bezier(0.64, -0.58, 0.34, 1.56)) for UI elements appearing/disappearing or reacting to clicks. Standard ease-out-quad for simpler state changes.
        Purposeful & Thematic Motion: Animations guide attention, provide feedback, or enhance perceived responsiveness, not distract. Durations typically 150-350ms for microinteractions. Motion characteristics adapt to the active theme's energy (fluid for Sakura, precise for Twilight, etc.).
        Subtlety & Performance: Ambient effects barely noticeable consciously. Prioritize transform and opacity. Use will-change judiciously. Minimize complex SVG filter animations.
        Respect User Preferences: Adhere to prefers-reduced-motion.
    Visual Motifs (Applied Thematically):
        Fluid Dynamics:
            Ripples: On button clicks, input submissions ‚Äì subtle, quick outward ripple. Themed by accent color.
            Flowing Gradients/Textures: For backgrounds or active states, slowly animating gradients or noise textures (e.g., Sakura: soft, flowing pinks; Twilight: sharp, energetic data streams).
        Bioluminescence/Auras/Glows:
            Key interactive elements (focused inputs, active buttons, speaking AI indicators) have soft, theme-based glows. Intensity varies with state (e.g., idle, hover, active, listening, processing).
            Pulsing: Rhythmic pulsing for listening states ("input breathing" effect on the input field itself), "thinking" states (subtle throb in header or around AI avatar), or to draw attention. Based on sine waves for calm, or more complex organic/geometric patterns for active processing, matching theme energy.
        Particle Effects (Sparingly for Key Moments, Themed):
            Data Transmission: Quick burst of themed particles on sending a message.
            Hover/Activation: Very subtle, localized particle shimmer on key interactive elements.
            Discarded Transcripts: A quick, chaotic "fade and disperse" particle effect for words being "thrown away," translucent and brief.
        Neural Pathways/Network Effects:
            Light Streaks: For loading indicators, visualizing data flow (e.g., in header when AI is processing). Style matches theme (organic for Sakura, sharp for Twilight, blocky/pixelated for Retro).
            Branching/Connection Animations: When revealing related information.
        Input Field Dynamics:
            Breathing Effect: During active listening (continuous or VAD command capture), the input field border or a subtle background glow should rhythmically pulse, synchronized with mic visualization if present.
            Glittering Text: When the user types into the text input, the newly typed characters could have a brief, subtle "glitter" or "energy spark" effect that fades quickly.
            Dynamic Shape (Input Button/Area): The main input button/area can subtly change shape or have animated accents based on state (idle, listening, typing, processing), message length in input, or even overall conversation length/complexity. This should be an organic, non-jarring morph.
        Processing/Generating Effects: During LLM response generation or file uploads, the input area or relevant UI sections should exhibit a "processing" visual (e.g., animated gradients, light streaks, subtle geometric patterns forming and dissolving).

III. UI Components & Interactions

    Input Toolbar (Holographic Design):
        Activation: A subtle, theme-based holographic icon (e.g., a layered, slightly translucent "plus" or "attach" symbol) next to the audio settings icon or main input button.
        Expansion: On hover/click, the icon expands into a small, translucent toolbar, appearing to float slightly above or overlap the input area without pushing content down.
        Contents:
            File Upload (Text, PDF): Icon-buttons for uploading. PDFs streamed as text. (Initially disabled if not implemented).
            Image Upload: Icon-button. (Initially disabled).
            STT Engine Switcher: Dropdown/toggle to select between Browser STT and Whisper.
            Live Transcription Toggle: Show/hide live transcriptions during voice input.
        Visuals: Icons within the toolbar are animated on hover, matching theme aesthetics.
    Agent Avatar Display:
        The current agent's avatar can appear subtly, perhaps near the AI's response bubbles or in a corner of the main content area.
        It should fade in when the AI starts generating a response and fade out after, or have a gentle "breathing" glow while the AI is "thinking" or speaking.
    Layout & Typography:
        Centering: Main chat window and input components will have increased horizontal margins in medium/widescreen/landscape modes for a more centered and focused appearance.
        Dynamic Text Display: AI responses in the chat window should feature a "glitter" or subtle highlight on newly streamed text, which then settles into the normal text appearance. Main content text size might subtly scale with importance or information density (within accessible limits).
    Transcription Management:
        Ephemeral chat log (transcriptions) should be clearable by the user.
        Option to reset/clear transcriptions from storage at the start of each session.
    Input Field Behavior:
        Text input disabled in "Continuous Listening" mode. Focus is on mic visualization and (optional) transcriptions.
        PTT and Voice Activated modes allow text input.
    Visualizations in Continuous Mode:
        When text input is hidden (Continuous Listening), the input area transforms to prominently display microphone sound wave visualizations. Transcriptions can be toggled on/off.

IV. Streaming Text Output (AI Responses)

    Natural Pacing:
        Influenced by TTS speed settings (if available).
        Response Length:
            Short (<10-15 words): Slower, word-by-word or small phrase reveal, gentle animation per word. Deliberate feel.
            Medium: Comfortable reading pace, word-by-word or character-by-character with chunking.
            Long: Start comfortable, can slightly accelerate for plain text, slow for code/complex formatting. Streaming cursor (‚ñã) always present.
        Content Type: Code blocks stream line-by-line or with syntax highlighting appearing progressively.
    Visual Effect:
        As text streams, a very subtle, theme-colored "energy trail" or "highlight" follows the last few characters, fading quickly.
        Newly fully-streamed messages have a brief "glitter" or "shimmer" effect before settling.